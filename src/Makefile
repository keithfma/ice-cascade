# Version info (auto-generated by svn):
## $LastChangedDate: 2014-05-10 16:10:37 -0400 (Sat, 10 May 2014) $
## $LastChangedBy: kfm $
## $LastChangedRevision: 98 $ 

FORT = mpif90
FFLAGS = -m64 -c -fast -nogen-interfaces -warn 
DEFS = 
INCL = -I/home/kfm/dev/netcdf-intel/include
LIBS = -Wl,-rpath -Wl,/home/kfm/dev/netcdf-intel/lib -L/home/kfm/dev/netcdf-intel/lib -lnetcdff -lnetcdf -lfftw3 

SRC = \
types.f90 \
fftw3.f90 \
benchmark.f90 \
cascade.f90 \
ice.f90 \
io.f90 \
hillslope.f90 \
flexure.f90 \
uplift.f90 \
ice_cascade.f90 \

OBJ = $(patsubst %.f90, %.o, $(SRC))

ice_cascade: $(OBJ) 
	$(FORT) $^ $(LIBS) -o ../ice_cascade
	
%.o %.mod: %.f90 	
	$(FORT) $(FFLAGS) $(DEFS) $(INCL) $< -o $@ 
	
.PHONY: clean	
	
clean:
	rm -f *.o *.mod ../ice_cascade
